<html ng-app="ionicApp">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Ionic Modal</title>
    <link rel="stylesheet" href="css/ionic.min.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link href="css/ion-datetime-picker.min.css" rel="stylesheet">
    <link href="css/ion-floating-menu.css" rel="stylesheet" type="text/css" />
</head>

<body ng-controller="AppCtrl" data-ng-cloak>
    <ion-header-bar align-title="center" class="bar-calm">
        <h1 class="title">WelCome To Doctor Schedular</h1>
    </ion-header-bar>
    <ion-floating-menu>
        <ion-floating-item icon="ion-clipboard" click="add_modal()" text="Add New Schedule"></ion-floating-item>
        <!-- <ion-floating-item icon="ion-person" click="myEvent()" text="Tomorrow"></ion-floating-item> -->
    </ion-floating-menu>
    <ion-content>
        <div class="bar bar-calm" style="position: static;">
            <input type="text" placeholder="Search" data-ng-model='search.place'>
            <!-- <button class="button button-icon ion-compose" ng-click="add_modal($event)">
            </button> -->
        </div>
        <div class="card">
            <div class="item item-text-wrap">
                <select data-ng-model="search.month">
                    <option value="">By Month</option>
                    <option ng-repeat="mn in mnth" value="{{mn}}">{{mn}}</option>
                </select>
                <select data-ng-model="search.year">
                    <option value="">By Year</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                </select>
                <br> {{filtered.length}} Results Showing
                <br>
                <h1>Total Earnings: {{filtered | sumOfValue:'amount'}}Tk</h1>
            </div>
        </div>
        <div class="list">
            <div class="item item-button-right custom-item" ng-repeat="duty in filtered = ( duties | filter:search)">
                <div class="row">
                    <div class="col-75">
                        <h2>{{duty.place | uppercase}}</h2>
                        <h2>By:{{duty.provider | uppercase}}</h2>
                        <h2>On:{{duty.date}}-{{duty.month}}-{{duty.year}}</h2>
                    </div>
                    <div class="col">
                        <a class="button button-icon button-danger icon ion-eye" data-ng-click="show(duty.random)"></a>
                        <a class="button button-icon button-danger icon ion-edit" data-ng-click="edit(duty.random)"></a>
                        <a class="button button-icon button-danger icon ion-trash-a" data-ng-click="delete(duty.random)"></a>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
    <div class="bar bar-footer bar-calm">
        <div class="title">Powered By Naieem Mahmud Supto</div>
    </div>
    <script id="add.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-calm">
                <h1 class="title">New Schedule</h1>
                <button class="button button-clear button-primary" ng-click="add_modal_hide()">Cancel</button>
            </ion-header-bar>
            <ion-content class="padding">
                <div class="list">
                    <label class="item item-input item-stacked-label">
                        <input type="text" class="" placeholder="Place" data-ng-model="duty.place">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <input type="date" class="" placeholder="Date" data-ng-model="duty.dte">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Schedule</span>
                        <select data-ng-model="duty.schedule">
                            <option value="">Schedule</option>
                            <option value="Morning">Morning</option>
                            <option value="Evening">Evening</option>
                            <option value="Night">Night</option>
                            <option value="OT">OT</option>
                        </select>
                    </label>
                    <label class="item item-input item-stacked-label">
                        <input type="text" class="" placeholder="Provider" data-ng-model="duty.provider">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <input type="number" class="" placeholder="Amount" data-ng-model="duty.amount">
                    </label>
                    <button class="button button-full button-calm" ng-click="add_entry($event)">Create</button>
                </div>
            </ion-content>
        </ion-modal-view>
    </script>
    <script id="edit.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-calm">
                <h1 class="title">Edit Schedule</h1>
                <button class="button button-clear button-primary" ng-click="edit_modal_hide();">Cancel</button>
            </ion-header-bar>
            <ion-content class="padding">
                <div class="list">
                    <label class="item item-input item-stacked-label">
                        <input type="text" class="" placeholder="Place" data-ng-model="edit_data.place">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <input type="date" class="" placeholder="Date" data-ng-model="edit_data.dte" value="edit_data.dte">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Schedule</span>
                        <select data-ng-model="edit_data.schedule">
                            <option ng-selected="edit_data.schedule==''" value="">Schedule</option>
                            <option ng-selected="edit_data.schedule=='Morning'" value="Morning">Morning</option>
                            <option ng-selected="edit_data.schedule=='Evening'" value="Evening">Evening</option>
                            <option ng-selected="edit_data.schedule=='Night'" value="Night">Night</option>
                            <option ng-selected="edit_data.schedule=='OT'" value="OT">OT</option>
                        </select>
                    </label>
                    <label class="item item-input item-stacked-label">
                        <input type="text" class="" placeholder="Provider" data-ng-model="edit_data.provider">
                    </label>
                    <label class="item item-input item-stacked-label">
                        <input type="number" class="" placeholder="Amount" data-ng-model="edit_data.amount">
                    </label>
                    <button class="button button-full button-calm" data-ng-click="edit_entry(edit_data.index)">Update</button>
                </div>
            </ion-content>
        </ion-modal-view>
    </script>
    <script id="show.html" type="text/ng-template">
        <ion-modal-view>
            <ion-header-bar class="bar bar-header bar-calm">
                <h1 class="title">Show Details</h1>
                <button class="button button-clear button-primary" ng-click="show_modal_hide()">Back</button>
            </ion-header-bar>
            <ion-content class="padding">
                <div class="card">
                    <div class="item item-divider">
                        <h2>Place:{{entry.place | uppercase}}</h2>
                    </div>
                    <div class="item item-text-wrap">
                        <h2>Provider:{{entry.provider}}</h2>
                        <h2>Date:{{entry.date}}-{{entry.month}}-{{entry.year}}</h2>
                        <h2>Schedule:{{entry.schedule}}</h2>
                    </div>
                    <div class="item item-divider">
                        <h2>Amount:{{entry.amount}}</h2>
                    </div>
                </div>
            </ion-content>
        </ion-modal-view>
    </script>
    <script src="js/ionic.bundle.min.js"></script>
    <script src="js/ion-datetime-picker.min.js"></script>
    <script src="js/ion-floating-menu.min.js" type="text/javascript"></script>
    <script src="js/ng-cordova.min.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/filter.js"></script>
    <script type="text/javascript" src="js/controller.js"></script>
</body>

</html>
